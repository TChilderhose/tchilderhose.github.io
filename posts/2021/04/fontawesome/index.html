<!doctype html><html lang=en data-theme=dark><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=Content-Language content="en"><meta name=color-scheme content="light dark"><meta http-equiv=Content-Security-Policy content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self'; form-action 'self'; frame-src 'self' https://utteranc.es; img-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' https://utteranc.es; prefetch-src 'self'; connect-src 'self';"><meta name=author content="Tyler Childerhose"><meta name=description content="Next target of optimizing on my Hugo site is to minify or remove FontAwesome. After a bit of investigating I decided to just remove it all and handle the SVGs that I will be using myself."><meta name=keywords content="blog,developer,personal"><meta property="og:url" content="/posts/2021/04/fontawesome/"><meta property="og:site_name" content="TChilderhose"><meta property="og:title" content="Removing FontAwesome"><meta property="og:description" content="Next target of optimizing on my Hugo site is to minify or remove FontAwesome. After a bit of investigating I decided to just remove it all and handle the SVGs that I will be using myself."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-04-14T00:00:00+00:00"><meta property="article:modified_time" content="2021-04-14T00:00:00+00:00"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Optimizations"><meta property="article:tag" content="FontAwesome"><meta property="article:tag" content="Svg"><meta property="og:see_also" content="/posts/2021/04/font/"><meta property="og:see_also" content="/posts/2021/04/webp/"><meta property="og:see_also" content="/posts/2021/04/material/"><meta property="og:see_also" content="/posts/2021/04/cssclean/"><meta property="og:see_also" content="/posts/2021/04/env-setup/"><meta property="og:see_also" content="/posts/2021/04/hello-hugo/"><meta property="og:see_also" content="/posts/2021/04/font/"><meta property="og:see_also" content="/posts/2021/04/webp/"><meta property="og:see_also" content="/posts/2021/04/cssclean/"><title>Removing FontAwesome · TChilderhose
</title><link rel=canonical href=/posts/2021/04/fontawesome/><link rel=stylesheet href=/css/site.min.a5e32c88b68cb6840da749bbb465adba1b180fd64067be7df17b2ec083d36250.css integrity="sha256-peMsiLaMtoQNp0m7tGWtuhsYD9ZAZ7598XsuwIPTYlA=" crossorigin=anonymous><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon href=/images/apple-touch-icon.png sizes=180x180><meta name=generator content="Hugo 0.127.0"><script>document.addEventListener("DOMContentLoaded",function(){document.querySelector(".preload-transitions").classList.remove("preload-transitions")})</script></head><body class=preload-transitions><aside class=float-container><ul><li><a id=to-top><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 512c141.4.0 256-114.6 256-256S397.4.0 256 0 0 114.6.0 256 114.6 512 256 512zm11.3-395.3 112 112c4.6 4.6 5.9 11.5 3.5 17.4s-8.3 9.9-14.8 9.9H304v96c0 17.7-14.3 32-32 32H240c-17.7.0-32-14.3-32-32V256H144c-6.5.0-12.3-3.9-14.8-9.9s-1.1-12.9 3.5-17.4l112-112c6.2-6.2 16.4-6.2 22.6.0z"/></svg></i></a></li><li><a id=dark-mode-toggle><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M448 256c0-106-86-192-192-192V448c106 0 192-86 192-192zm64 0c0 141.4-114.6 256-256 256S0 397.4.0 256 114.6.0 256 0 512 114.6 512 256z"/></svg></i></a></li></ul></aside><main class=wrapper><nav class=navigation id=navbar><section class=container><a class=navigation-title href=/>TChilderhose</a><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/resume/>Resume</a></li></ul></section></nav><div class=content><section class=container><aside class=toc><h2 class=toc-title>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#remove-fontawesome>Remove FontAwesome</a></li><li><a href=#fetch-the-needed-svgs>Fetch the Needed SVGs</a></li><li><a href=#create-the-partial>Create the Partial</a></li><li><a href=#tweaks>Tweaks</a></li></ul></nav></aside><article class=post><header><div class=post-title><h1 class=title><a class=title-link href=/posts/2021/04/fontawesome/>Removing FontAwesome</a></h1></div><div class=post-meta><span class=posted-on><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M128 0c17.7.0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5.0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8.0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8.0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8.0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8.0-16 7.2-16 16zm144-16c-8.8.0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8.0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 4e2v32c0 8.8 7.2 16 16 16h32c8.8.0 16-7.2 16-16V4e2c0-8.8-7.2-16-16-16H80c-8.8.0-16 7.2-16 16zm144-16c-8.8.0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8.0 16-7.2 16-16V4e2c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8.0 16-7.2 16-16V4e2c0-8.8-7.2-16-16-16H336c-8.8.0-16 7.2-16 16z"/></svg></i>
<time datetime=2021-04-14T00:00:00Z>2021-04-14</time>
</span>&nbsp;
<span class=reading-time><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 512C114.6 512 0 397.4.0 256S114.6.0 256 0 512 114.6 512 256 397.4 512 256 512zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/></svg></i>3-minute read</span>
&nbsp;
<span class=tags><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5.0L418.7 317.3c25-25 25-65.5.0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5.0 80zm112 96c-17.7.0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"/></svg></i>
<a class=tag-link href=/tags/hugo/>hugo</a>
<span class=separator>•</span>
<a class=tag-link href=/tags/optimizations/>optimizations</a>
<span class=separator>•</span>
<a class=tag-link href=/tags/fontawesome/>FontAwesome</a>
<span class=separator>•</span>
<a class=tag-link href=/tags/svg/>svg</a></span></div></header><div><p>Next target of optimizing on my Hugo site is to minify or remove FontAwesome. After a bit of investigating I decided to just remove it all and handle the SVGs that I will be using myself.</p><p>Which would cross another thing off my original list</p><ul><li><del>Removing unused CSS</del></li><li><del><strong>Minifying/Removing FontAwesome</strong></del></li><li>Minimizing requests to 3rd parties (fonts, metrics, etc)</li><li>Remove Google Fonts while still looking appealing</li><li>Minimizing use of JavaScript</li><li>Converting Images to WebP or some other optimized formats</li></ul><section><h2 id=remove-fontawesome>Remove FontAwesome
<a class=heading-link href=#remove-fontawesome><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6 31.5 31.5 31.5 82.5.0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5.0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5 50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0 27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5.0L60.2 244.3z"/></svg></i></a></h2><p>I removed any mention of the FontAwesome font and/or stylesheet. Normally it&rsquo;s something like</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;stylesheet&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/XXX/css/font-awesome.min.css&#34;</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>The theme I was using also had a local version called <a href=https://github.com/ForkAwesome/Fork-Awesome>ForkAwesome</a> installed. Just needed to remove the files from the static folder and remove the links to it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;preload&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;/fonts/forkawesome-webfont.woff2?v=1.1.7&#34;</span> <span class=na>as</span><span class=o>=</span><span class=s>&#34;font&#34;</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;font/woff2&#34;</span> <span class=na>crossorigin</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>Don&rsquo;t remove any of the class tags just yet (<code>fa</code>, <code>fa-XXXX</code>, etc).</p></section><section><h2 id=fetch-the-needed-svgs>Fetch the Needed SVGs
<a class=heading-link href=#fetch-the-needed-svgs><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6 31.5 31.5 31.5 82.5.0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5.0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5 50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0 27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5.0L60.2 244.3z"/></svg></i></a></h2><p>Next I wrote a script that will</p><ul><li>Go through my html, js and config.toml files looking for <code>fa-</code>.</li><li>Check which SVGs are missing</li><li>Download the SVG from the <a href=https://github.com/FortAwesome/Font-Awesome>FontAwesome GitHub Repo</a> into the <code>./fontawesome</code> folder</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/usr/bin/env bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>regex</span><span class=o>=</span><span class=s1>&#39;.*fa-([^2].*)(&#34;|\s|$).*&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>fa</span><span class=o>=()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>var</span><span class=o>=</span><span class=sb>`</span>grep -rh --include <span class=se>\*</span>.html --include <span class=se>\*</span>.js <span class=s1>&#39;./themes/&#39;</span> -e <span class=s1>&#39;fa-&#39;</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=k>for</span> f in <span class=nv>$var</span>
</span></span><span class=line><span class=cl><span class=k>do</span> 
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[[</span> <span class=nv>$f</span> <span class=o>=</span>~ <span class=nv>$regex</span> <span class=o>]]</span>
</span></span><span class=line><span class=cl>    <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>fa</span><span class=o>+=(</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>BASH_REMATCH</span><span class=p>[1]</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>var</span><span class=o>=</span><span class=sb>`</span>grep -h <span class=s1>&#39;./config.toml&#39;</span> -e <span class=s1>&#39;fa-&#39;</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=k>for</span> f in <span class=nv>$var</span>
</span></span><span class=line><span class=cl><span class=k>do</span> 
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[[</span> <span class=nv>$f</span> <span class=o>=</span>~ <span class=nv>$regex</span> <span class=o>]]</span>
</span></span><span class=line><span class=cl>    <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>fa</span><span class=o>+=(</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>BASH_REMATCH</span><span class=p>[1]</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>uniq</span><span class=o>=(</span><span class=k>$(</span><span class=nb>printf</span> <span class=s2>&#34;%s\n&#34;</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>fa</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span> <span class=p>|</span> sort -u<span class=k>)</span><span class=o>)</span><span class=p>;</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>dest</span><span class=o>=</span>fontawesome
</span></span><span class=line><span class=cl><span class=nv>ghurl</span><span class=o>=</span>https://raw.githubusercontent.com/FortAwesome/Font-Awesome/master/svgs
</span></span><span class=line><span class=cl><span class=nv>folders</span><span class=o>=(</span> brands solid regular <span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>mkdir -p <span class=s2>&#34;</span><span class=si>${</span><span class=nv>dest</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> icon in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>uniq</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>do</span> 
</span></span><span class=line><span class=cl>    <span class=nv>icon</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>icon</span><span class=p>%</span><span class=se>\&#34;</span><span class=si>}</span><span class=s2>.svg&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> ! -f <span class=s2>&#34;</span><span class=si>${</span><span class=nv>dest</span><span class=si>}</span><span class=s2>/fa-</span><span class=si>${</span><span class=nv>icon</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>]</span><span class=p>;</span> 
</span></span><span class=line><span class=cl>    <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>icon</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> folder in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>folders</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>do</span> 
</span></span><span class=line><span class=cl>            <span class=nv>url</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>ghurl</span><span class=si>}</span><span class=s2>/</span><span class=si>${</span><span class=nv>folder</span><span class=si>}</span><span class=s2>/</span><span class=si>${</span><span class=nv>icon</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> ! curl -s --head --request GET <span class=si>${</span><span class=nv>url</span><span class=si>}</span> <span class=p>|</span> grep <span class=s2>&#34;404&#34;</span> &gt; /dev/null
</span></span><span class=line><span class=cl>            <span class=k>then</span>
</span></span><span class=line><span class=cl>                curl -o <span class=s2>&#34;</span><span class=si>${</span><span class=nv>dest</span><span class=si>}</span><span class=s2>/fa-</span><span class=si>${</span><span class=nv>icon</span><span class=si>}</span><span class=s2>&#34;</span> <span class=si>${</span><span class=nv>url</span><span class=si>}</span>
</span></span><span class=line><span class=cl>                <span class=nb>break</span>
</span></span><span class=line><span class=cl>            <span class=k>fi</span>
</span></span><span class=line><span class=cl>        <span class=k>done</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><p>The SVGs are in 3 different folders on the repo, <code>brands</code>, <code>solid</code> and <code>regular</code>. Currently I just check each folder in that order, but eventually I may add logic to support determining if the SVG would be in <code>solid</code> or <code>regular</code> depending on the <code>-o</code> tag.</p><p>If you add a new <code>fa-</code> icon to your site, be sure to run the script before starting the Hugo server/build or else it will yell at you. I&rsquo;m hoping they add a way to add pre-build events so I can hook into that, but the adding of icons isn&rsquo;t a common occurrence for me so not a big issue.</p></section><section><h2 id=create-the-partial>Create the Partial
<a class=heading-link href=#create-the-partial><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6 31.5 31.5 31.5 82.5.0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5.0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5 50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0 27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5.0L60.2 244.3z"/></svg></i></a></h2><p>Next is to create a partial in hugo to inject the SVG.</p><p>I construct the icon path, read the file and inject <code>fill=\"currentColor\"</code> into the path so that I can change it&rsquo;s color.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>//fa.html
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fa inline-svg&#34;</span> <span class=na>aria-hidden</span><span class=o>=</span><span class=s>&#34;true&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{- $fname:=print &#34;fontawesome/&#34; . &#34;.svg&#34; -}}
</span></span><span class=line><span class=cl>    {{- replace (readFile $fname) &#34;<span class=p>&lt;</span><span class=nt>path</span><span class=err>&#34;</span> <span class=err>&#34;&lt;</span><span class=na>path</span> <span class=na>fill</span><span class=o>=</span><span class=s>\&#34;currentColor\&#34;&#34;</span> <span class=err>|</span> <span class=na>safeHTML</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl><span class=err>&lt;/</span><span class=na>i</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>I&rsquo;m not 100% sold on using an <code>i</code> element for them, but will leave it that for now.</p><p>With that set, I went around the system replacing the old code with the new partial.</p><p>Old:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fa fa-link&#34;</span> <span class=na>aria-hidden</span><span class=o>=</span><span class=s>&#34;true&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>New:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl> {{ partial &#34;fa.html&#34; &#34;fa-link&#34; }}
</span></span></code></pre></div><p>And that was pretty much it.</p></section><section><h2 id=tweaks>Tweaks
<a class=heading-link href=#tweaks><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6 31.5 31.5 31.5 82.5.0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5.0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5 50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0 27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5.0L60.2 244.3z"/></svg></i></a></h2><p>There was a few tweaks that I needed to make due to sizing and positioning.</p><p>First was to remove all the sizing tags (<code>fa-2x</code>, etc) and handled them myself. Best way I found was setting the <code>font-size</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>inline-svg</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>font-size</span><span class=p>:</span> <span class=n>XXX</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>I also added this to my css to help with alignment to text</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>inline-svg</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>inline-flex</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>align-self</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>inline-svg</span> <span class=nt>svg</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>font-size</span><span class=p>:</span> <span class=kc>inherit</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>height</span><span class=p>:</span> <span class=mi>1</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>width</span><span class=p>:</span> <span class=mi>1</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>top</span><span class=p>:</span> <span class=mf>.125</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>position</span><span class=p>:</span> <span class=kc>relative</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> 
</span></span></code></pre></div><p>But after that it&rsquo;s been smooth sailing. Was really surprised at how easy it was and it&rsquo;s another 3rd-party dependency gone without a loss in functionality!</p></section></div><footer><section class=see-also><h3 id=see-also-in-hugo>See also in hugo
<a class=heading-link href=#see-also-in-hugo><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6 31.5 31.5 31.5 82.5.0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5.0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5 50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0 27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5.0L60.2 244.3z"/></svg></i></a></h3><nav><ul><li><a href=/posts/2021/04/font/>Removing Google Fonts & Other 3rd Parties</a></li><li><a href=/posts/2021/04/webp/>Lazy Loading Images & WebP</a></li><li><a href=/posts/2021/04/material/>Materialize</a></li><li><a href=/posts/2021/04/cssclean/>Minimizing CSS in Hugo</a></li><li><a href=/posts/2021/04/env-setup/>Environment & Hosting Setup</a></li></ul></nav><h3 id=see-also-in-optimizations>See also in optimizations
<a class=heading-link href=#see-also-in-optimizations><i class="fa inline-svg" aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6 31.5 31.5 31.5 82.5.0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5.0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5 50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0 27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5.0L60.2 244.3z"/></svg></i></a></h3><nav><ul><li><a href=/posts/2021/04/font/>Removing Google Fonts & Other 3rd Parties</a></li><li><a href=/posts/2021/04/webp/>Lazy Loading Images & WebP</a></li><li><a href=/posts/2021/04/cssclean/>Minimizing CSS in Hugo</a></li></ul></nav></section><div id=utterance-container src=https://utteranc.es/client.js repo=TChilderhose/tchilderhose.github.io issue-term=pathname label=comment crossorigin=anonymous></div></footer></article></section></div><footer class=footer><section class=container>©
2021 -
2024
Tyler Childerhose
·
Powered by <a href=https://gohugo.io/>Hugo</a>.</section></footer></main><script defer src=/js/site.min.46ebcecfb3d9cc5c45250d00e7f07257d3660084e39375063e882d103b67a78b.js integrity="sha256-RuvOz7PZzFxFJQ0A5/ByV9NmAITjk3UGPogtEDtnp4s=" crossorigin=anonymous></script></body></html>